"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[628,812,3409],{16954:function(e,t,i){var a=i(71860),n=i(88856),r=i(32352),o=i(10997),s=i(30242),l=i(43632);function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,a)}return i}var m=(0,r.q_.forwardRef)(function(e,t){var i=e.customAttributes,m=void 0===i?{}:i,d=e.customClasses,u=void 0===d?[]:d,v=e.common,p=void 0===v?{}:v,_=e.showModes,f=void 0===_||_,g=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach(function(t){(0,n.A)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({className:(0,r.pS)({"gravitysmtp-activity-log-app__header":!0},u)},m),y=p.data,w=void 0===y?{}:y,b=w.debug_log_enabled,h=void 0!==b&&b,E=w.test_mode_enabled,O=void 0!==E&&E,q=p.i18n,A=void 0===q?{}:q,j=A.debug_log_enabled,C=void 0===j?"":j,N=A.test_mode_enabled,P=void 0===N?"":N;return r.q_.createElement("div",(0,a.A)({},g,{ref:t}),r.q_.createElement("div",{className:"gravitysmtp-activity-log-app__header-main"},r.q_.createElement("div",{className:"gravitysmtp-activity-log-app__header-logo"},r.q_.createElement(o.A,{height:22,width:220})),f&&r.q_.createElement(s.A,{customClasses:["gravitysmtp-header__status"],setDisplay:!1},h&&r.q_.createElement(l.A,{status:"warning",size:"sm",spacing:[0,O?4:0,0,0],label:C,isStatic:!0}),O&&r.q_.createElement(l.A,{status:"blue",size:"sm",label:P,isStatic:!0}))))});m.propTypes={customAttributes:r.By.object,customClasses:r.By.oneOfType([r.By.string,r.By.array,r.By.object])},m.displayName="ActivityLogHeader",t.default=m},31945:function(e,t){t.A=function(e){var t=window.location.origin,i="//".concat(window.location.host);return e.replace(t,"").replace(i,"")}},59238:function(e,t,i){var a=i(88856),n=i(8140),r=i(96342),o=i(32352),s=i(62825),l=i(84860),c=i(3258),m=i(99201),d=i(72695),u=i(16954),v=i(23664),p=i(52217),_=i(98895),f=i(31945),g=["simpleBarRef"];function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,a)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach(function(t){(0,a.A)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var b=o.q_.useRef,h=o.tm.BrowserRouter,E=o.tm.Routes,O=o.tm.Route,q=o.tm.useSearchParams,A=function(e){return o.q_.createElement(u.default,e)},j=function(e){var t=e.simpleBarRef,i=(0,r.A)(e,g),a=q(),s=(0,n.A)(a,1)[0].get(i.data.nav_item_param_key||"tab")||"activity-log";switch(t.current&&(t.current.scrollTop=0),s){case"activity-log":return o.q_.createElement(v.default,i);case"log-details":return o.q_.createElement(p.default,i);default:return null}};t.default=function(e){var t=e.data,i=e.endpoints,a=e.i18n,n=e.common,r=(0,f.A)(t.route_path),u=b(),v={confirmButtonType:(0,_.default)(function(e){return e.confirmDialogConfirmButtonType}),i18n:w(w({},(null==n?void 0:n.i18n)||{}),(0,_.default)(function(e){return e.confirmDialogI18n})),isOpen:(0,_.default)(function(e){return e.confirmDialogOpen}),onCancel:(0,_.default)(function(e){return e.confirmDialogOnCancel}),onConfirm:(0,_.default)(function(e){return e.confirmDialogOnConfirm})};return o.q_.createElement(h,null,o.q_.createElement(l.n,{defaultSettings:{errorIconAttributes:{icon:"exclamation-simple",iconPrefix:"gravitysmtp-admin-icon"},successIconAttributes:{icon:"correct",iconPrefix:"gravitysmtp-admin-icon"}}},o.q_.createElement("div",{className:"gravitysmtp-app__wrapper"},o.q_.createElement(s.A,{customClasses:["gravitysmtp-activity-log-app"],Header:A,simpleBarRef:u,common:n,data:t,i18n:a},o.q_.createElement("div",{className:"gravitysmtp-activity-log-app__content"},o.q_.createElement(E,null,o.q_.createElement(O,{path:r,element:o.q_.createElement(j,{data:t,endpoints:i,i18n:a,common:n,simpleBarRef:u})})))),o.q_.createElement(m.default,{data:t,endpoints:i,common:n,i18n:a}),o.q_.createElement(d.default,{data:t,common:n,i18n:a}),o.q_.createElement(c.A,v))))}},72695:function(e,t,i){var a=i(71860),n=i(88856),r=i(8140),o=i(32352),s=i(62825),l=i(16954),c=i(48959),m=i(15635),d=i(32722),u=i(80509),v=i(5529),p=i(25980),_=i(66598),f=i(98895);function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,a)}return i}var y=o.q_.forwardRef,w=o.q_.useEffect,b=o.q_.useState,h=function(e){var t=e.wrapperClasses,i=void 0===t?[]:t,a=e.dot,n=void 0===a||a,r=e.width,s=void 0===r?"62px":r,l={className:(0,o.pS)(["gravitysmtp-view-email__placeholder-stripe"],i)};return o.q_.createElement("div",l,n&&o.q_.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-dot"}),o.q_.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-line",style:{width:s}}))},E=y(function(e,t){var i,y,E=e.customAttributes,O=void 0===E?{}:E,q=e.customClasses,A=void 0===q?[]:q,j=e.common,C=void 0===j?{}:j,N=e.data,P=void 0===N?{}:N,k=e.i18n,S=void 0===k?{}:k,B=(0,f.default)(function(e){return e.viewEmailDialogOpen}),x=(0,f.default)(function(e){return e.setViewEmailDialogOpen}),D=(0,f.default)(function(e){return e.viewEmailEventId}),T=(0,f.default)(function(e){return e.viewEmailEventIsHtml}),z=(0,f.default)(function(e){return e.viewEmailEventDate}),R=(0,f.default)(function(e){return e.viewEmailEventFromHash}),I=(0,f.default)(function(e){return e.viewEmailEventFrom}),H=(0,f.default)(function(e){return e.viewEmailEventTo}),L=(0,f.default)(function(e){return e.viewEmailEventTitle}),J=(0,f.default)(function(e){return e.setViewEmailEventProperties}),M=b(!1),F=(0,r.A)(M,2),V=F[0],W=F[1],U=b("desktop"),G=(0,r.A)(U,2),K=G[0],Q=G[1],X=(null==C||null===(i=C.endpoints)||void 0===i||null===(i=i.get_email_message)||void 0===i?void 0:i.action)||"",Y=(null==C||null===(y=C.endpoints)||void 0===y||null===(y=y.get_email_message)||void 0===y?void 0:y.nonce)||"",Z="".concat(null==P?void 0:P.ajax_url,"?action=").concat(X,"&security=").concat(Y,"&event_id=").concat(D),$=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach(function(t){(0,n.A)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({className:(0,o.pS)({"gravitysmtp-view-email":!0},A)},O),ee={className:(0,o.pS)({"gravitysmtp-view-email__sidebar-container":!0,"gravitysmtp-view-email__sidebar-container--loading":V})},te={className:(0,o.pS)((0,n.A)({"gravitysmtp-view-email__container":!0,"gravitysmtp-view-email__container--html-mode":T},"gravitysmtp-view-email__container--".concat(K,"-mode"),!0))},ie=(null==S?void 0:S.log_detail)||{},ae=ie.main_box_from_label,ne=ie.main_box_to_label,re=ie.view_email_desktop_mode,oe=ie.view_email_mobile_mode;w(function(){B&&W(!0),Q("desktop")},[B]);var se={closeButtonType:"simplified",onCloseAfterAnimation:function(){J({date:"",isHtml:!1,id:0,fromHash:"",from:"",to:"",title:""}),x(!1)},customWrapperClasses:["gravitysmtp-view-email__dialog"],customMaskClasses:["gravitysmtp-view-email__mask"],customCloseButtonLabelAttributes:{className:(0,o.pS)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:"",isOpen:B,maskTheme:"light",mode:"modal",padContent:!1,position:"absolute",theme:"cosmos",version:2,zIndex:100001},le=[62,62,55,81,81,55],ce={className:(0,o.pS)({"gravitysmtp-view-email__header-details-meta":!0,"gravitysmtp-view-email__header-details-meta--loading":V})};return o.q_.createElement("div",(0,a.A)({},$,{ref:t}),o.q_.createElement(c.A,se,o.q_.createElement(s.A,{customClasses:["gravitysmtp-view-email-layout"],Header:function(e){return o.q_.createElement(l.default,(0,a.A)({},e,{showModes:!1}))},PrimarySideBarChildren:function(){return o.q_.createElement("div",ee,le.map(function(e,t){return o.q_.createElement(h,{key:"stripe-".concat(t,"-").concat(e),width:"".concat(e,"px")})}))},data:P,simplebarContent:!1},o.q_.createElement("div",te,o.q_.createElement("div",{className:"gravitysmtp-view-email__header"},o.q_.createElement("div",{className:"gravitysmtp-view-email__header-title-wrapper"},o.q_.createElement("div",{className:"gravitysmtp-view-email__header-title"},""!==L&&!V&&o.q_.createElement(v.A,{customClasses:["gravitysmtp-view-email__header-title-subject"],tagName:"h2",size:"text-xl",weight:"medium",content:L}),V&&o.q_.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"35%"})),!V&&o.q_.createElement("div",{className:"gravitysmtp-view-email__header-details-actions"},o.q_.createElement(u.A,{icon:"desktop",iconPrefix:"gravitysmtp-admin-icon",label:re,onClick:function(){return Q("desktop")},size:"size-height-s",spacing:[0,3,0,0],type:"icon-white"}),o.q_.createElement(u.A,{icon:"mobile",iconPrefix:"gravitysmtp-admin-icon",label:oe,onClick:function(){return Q("mobile")},size:"size-height-s",type:"icon-white"}))),o.q_.createElement("div",{className:"gravitysmtp-view-email__header-details"},o.q_.createElement("div",{className:"gravitysmtp-view-email__header-details-left"},o.q_.createElement("div",{className:"gravitysmtp-view-email__header-details-image"},o.q_.createElement(p.A,{customClasses:["gravitysmtp-view-email__header-details-default"],icon:"account",iconPrefix:"gravitysmtp-admin-icon"}),""!==R&&o.q_.createElement(m.A,{customClasses:["gravitysmtp-view-email__header-details-gravatar"],emailHash:R,height:40,width:40,defaultImage:"blank"})),o.q_.createElement("div",ce,V&&o.q_.createElement("span",{className:"gravitysmtp-view-email__header-details-from gravitysmtp-view-email__header-details-from--has-loader"},o.q_.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"75%"})),V&&o.q_.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},o.q_.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"45%"})),!V&&""!==I&&o.q_.createElement("span",{className:"gravitysmtp-view-email__header-details-from"},o.q_.createElement(_.A,{tagName:"span",size:"text-sm",weight:"semibold",content:ae})," ",o.q_.createElement(_.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:I})),!V&&""!==H&&o.q_.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},o.q_.createElement(_.A,{weight:"semibold",tagName:"span",size:"text-sm",content:ne})," ",o.q_.createElement(_.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:H})))),o.q_.createElement("div",{className:"gravitysmtp-view-email__header-details-right"},!V&&""!==z&&o.q_.createElement("span",{className:"gravitysmtp-view-email__header-details-date"},o.q_.createElement(_.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-xs",content:z}))))),o.q_.createElement("div",{className:"gravitysmtp-view-email__wrapper"},V&&o.q_.createElement(d.A,{loaderCustomAttributes:{mask:!0,maskCustomClasses:["gravitysmtp-view-email__iframe-loader-mask"]}}),0!==D&&o.q_.createElement("iframe",{className:"gravitysmtp-view-email__iframe",onLoad:function(){W(!1)},title:L,src:Z}))))))});E.propTypes={customAttributes:o.By.object,customClasses:o.By.oneOfType([o.By.string,o.By.array,o.By.object]),common:o.By.object,data:o.By.object,i18n:o.By.object},t.default=E},98846:function(e,t,i){var a,n,r=i(71860),o=i(32352),s=i(40450),l=i.n(s),c=i(59238),m=o.cr.createRoot,d=(null===l()||void 0===l()?void 0:l().common)||{},u=(null===l()||void 0===l()||null===(a=l().components)||void 0===a?void 0:a.activity_log)||{},v=(null===l()||void 0===l()||null===(n=l().components)||void 0===n?void 0:n.setup_wizard)||{};t.default=function(e){var t;null!=v&&null!==(t=v.data)&&void 0!==t&&t.should_display&&document.body.classList.add("gravitysmtp-apps--hidden"),window.scrollTo(0,0),m(e).render(o.q_.createElement(c.default,(0,r.A)({},u,{common:d})))}},99201:function(e,t,i){var a=i(71860),n=i(90455),r=i(88856),o=i(8140),s=i(78564),l=i.n(s),c=i(27122),m=i.n(c),d=i(32352),u=i(40388),v=i(21713),p=i(80509),_=i(29549),f=i(48959),g=i(84860),y=i(83707),w=i(93313),b=i(98895);function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,a)}return i}function E(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach(function(t){(0,r.A)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var O=d.q_.forwardRef,q=d.q_.useState,A=d.tm.useLocation,j=d.tm.useNavigate,C=O(function(e,t){var i,r,s=e.customAttributes,c=void 0===s?{}:s,h=e.customClasses,O=void 0===h?[]:h,C=e.common,N=void 0===C?{}:C,P=e.data,k=void 0===P?{}:P,S=e.endpoints,B=void 0===S?{}:S,x=e.i18n,D=void 0===x?{}:x,T=j(),z=A(),R=(0,b.default)(function(e){return e.singleActivityDialogOpen}),I=(0,b.default)(function(e){return e.setSingleActivityDialogOpen}),H=(0,b.default)(function(e){return e.singleActivityEventId}),L=(0,b.default)(function(e){return e.setSingleActivityEventId}),J=(0,b.default)(function(e){return e.singleActivityType}),M=(0,b.default)(function(e){return e.setSingleActivityType}),F=q(!1),V=(0,o.A)(F,2),W=V[0],U=V[1],G=(0,g.dh)(),K=(null==N||null===(i=N.endpoints)||void 0===i||null===(i=i.delete_email)||void 0===i?void 0:i.action)||"",Q=(null==N||null===(r=N.endpoints)||void 0===r||null===(r=r.delete_email)||void 0===r?void 0:r.nonce)||"",X=((null==N?void 0:N.i18n)||{}).snackbar_email_log_delete_error,Y=void 0===X?"":X,Z=(B||{}).gravitysmtp_resend_email,$=void 0===Z?{}:Z,ee=$.action,te=void 0===ee?"":ee,ie=$.nonce,ae=void 0===ie?"":ie,ne=D.confirm_delete_email_heading,re=void 0===ne?"":ne,oe=D.confirm_delete_email_content,se=void 0===oe?"":oe,le=D.confirm_delete_email_delete,ce=void 0===le?"":le,me=D.confirm_delete_email_cancel,de=void 0===me?"":me,ue=D.confirm_resend_email_heading,ve=void 0===ue?"":ue,pe=D.confirm_resend_email_content,_e=void 0===pe?"":pe,fe=D.confirm_resend_email_resend,ge=void 0===fe?"":fe,ye=D.confirm_resend_email_cancel,we=void 0===ye?"":ye,be=D.debug_messages,he=void 0===be?{}:be,Ee=he.deleting_single_activity_log,Oe=void 0===Ee?"":Ee,qe=he.deleting_single_activity_log_error,Ae=void 0===qe?"":qe,je=D.resending_email,Ce=D.resending_error,Ne=D.snackbar_resend_error,Pe=D.snackbar_resend_success,ke=E({className:(0,d.pS)({"gravitysmtp-single-activity":!0},O)},c),Se=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=new URLSearchParams(z.search),a=k.nav_item_param_key||"tab";if("activity-log"!==i.get(a))if(i.delete("event_id"),i.set(a,"activity-log"),"activity-log"===(null==z||null===(e=z.state)||void 0===e?void 0:e.previous)){if(!t)return void T(-1);window.location.href="".concat(z.pathname,"?").concat(i.toString())}else{if(!t){var n=E(E({},z),{},{search:"?".concat(i.toString())});T(n,{state:{previous:"log-details"}})}window.location.href="".concat(z.pathname,"?").concat(i.toString())}else t&&window.location.reload()},Be=function(){var e=(0,n.A)(l().mark(function e(){var t,i,a,n;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),t={action:K,security:Q,event_id:H},e.next=4,(0,y.A)((0,v.nv)(Oe,JSON.stringify((0,w.A)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,u.bE)({endpoint:m(),body:t});case 7:null!=(a=e.sent)&&null!==(i=a.data)&&void 0!==i&&i.success?G(null==a||null===(n=a.data)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message):G(Y,"error"),I(!1),Se(!0),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(4),G(e.t0.message,"error"),e.next=18,(0,y.A)((0,v.nv)(Ae,JSON.stringify(e.t0)),"error");case 18:case"end":return e.stop()}},e,null,[[4,13]])}));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=(0,n.A)(l().mark(function e(){var t,i,a;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),t={action:te,security:ae,email_id:H},e.next=4,(0,y.A)((0,v.nv)(je,JSON.stringify((0,w.A)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,u.bE)({endpoint:m(),body:t});case 7:null!=(a=e.sent)&&null!==(i=a.data)&&void 0!==i&&i.success?G(Pe):G(Ne,"error"),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(4),G(Ne,"error"),e.next=16,(0,y.A)((0,v.nv)(Ce,JSON.stringify(e.t0)),"error");case 16:U(!1),I(!1),L(0),M("");case 20:case"end":return e.stop()}},e,null,[[4,11]])}));return function(){return e.apply(this,arguments)}}(),De="delete"===J,Te=De?re:ve,ze=De?se:_e,Re=De?ce:ge,Ie=De?de:we,He=De?Be:xe,Le={onCloseAfterAnimation:function(){L(0),M(""),U(!1)},closeOnMaskClick:!1,customWrapperClasses:["gravitysmtp-single-activity__dialog"],customCloseButtonLabelAttributes:{className:(0,d.pS)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:ze,isOpen:R,maskTheme:"light",mode:"modal",padContent:!1,position:"absolute",showCloseButton:!1,theme:"cosmos",title:Te};return d.q_.createElement("div",(0,a.A)({},ke,{ref:t}),d.q_.createElement(f.A,Le,d.q_.createElement(_.A,{container:!0,customClasses:["gravitysmtp-single-activity__dialog-actions"],justifyContent:"flex-start",columnSpacing:3,spacing:[8,0,0,0],type:"fluid"},d.q_.createElement(_.A,{item:!0,width:6},d.q_.createElement(p.A,{label:Ie,onClick:function(){return I(!1)},type:"white",width:"full"})),d.q_.createElement(_.A,{item:!0,width:6},d.q_.createElement(p.A,{active:W,activeType:"loader",label:Re,onClick:He,width:"full"})))))});C.propTypes={customAttributes:d.By.object,customClasses:d.By.oneOfType([d.By.string,d.By.array,d.By.object]),common:d.By.object,data:d.By.object,endpoints:d.By.object,i18n:d.By.object},t.default=C}}]);