"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[622,3020],{3753:function(e,t,n){var r=n(18134),a=n(88856),i=n(97867),s=n(57456),o=n(59092);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.default=function(){var e,t=(0,o.default)(function(e){return e.settingsFlyoutChildren}),n=(0,o.default)(function(e){return e.settingsFlyoutProps}),a=(0,o.default)(function(e){return e.setSettingsFlyout}),c=l(l({desktopWidth:"600px",direction:"right",headerIsFixed:!0,maskBlur:!0,maskClickExcludeButtons:[3,4],maskTheme:"light",mobileBreakpoint:768,onClose:function(){return a({isOpen:!1})},offsetWPAdminBar:!0,offsetWPAdminMenu:!0,resetScrollOnOpen:!0,simplebar:!0},n),{},{closeButtonCustomAttributes:l(l({icon:"x",iconPrefix:"gravitysmtp-admin-icon",size:"size-height-s",theme:"cosmos",type:"simplified"},(null==n?void 0:n.closeButtonCustomAttributes)||{}),{},{customClasses:["gravitysmtp-settings-app__settings-flyout-close"].concat((0,r.A)((null==n||null===(e=n.closeButtonCustomAttributes)||void 0===e?void 0:e.customClasses)||[]))}),customBodyClasses:["gravitysmtp-settings-app__settings-flyout-body"].concat((0,r.A)((null==n?void 0:n.customBodyClasses)||[])),customClasses:["gravitysmtp-settings-app__settings-flyout"].concat((0,r.A)((null==n?void 0:n.customClasses)||[]))});return i.React.createElement(s.A,c,t)}},5152:function(e,t,n){var r=n(88856),a=n(8140),i=n(97867),s=n(62825),o=n(84860),c=n(56985),l=n(52166),u=n(12040),p=n(12526),m=n(69586),d=n(46716),f=n(65862),_=n(3753),g=n(3258),b=n(19535),v=n(90266),y=n(36770),A=n(52636),h=n(59092),E=n(31945);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P=i.React.useEffect,R=i.ReactRouter.BrowserRouter,S=i.ReactRouter.Routes,C=i.ReactRouter.Route,T=i.ReactRouter.useSearchParams,k=i.ReactDNDMultiBackend.DndProvider,j=i.ReactDNDHtml5ToTouch.HTML5toTouch,x=["routing"],D={alerts:[(0,v.A)("CAPS_VIEW_ALERTS")],settings:[(0,v.A)("CAPS_VIEW_LICENSE_KEY"),(0,v.A)("CAPS_VIEW_TEST_MODE"),(0,v.A)("CAPS_VIEW_USAGE_ANALYTICS"),(0,v.A)("CAPS_VIEW_NOTIFICATIONS_SETTINGS")],integrations:[(0,v.A)("CAPS_VIEW_INTEGRATIONS")],logging:[(0,v.A)("CAPS_VIEW_EMAIL_LOG_SETTINGS")],emails:[(0,v.A)("CAPS_VIEW_EMAIL_MANAGEMENT_SETTINGS")]},I=function(e){return i.React.createElement(c.default,e)},N=function(e){return i.React.createElement(l.default,e)},L=function(e){var t=T(),n=(0,a.A)(t,1)[0],r=e.data.nav_items,s=(void 0===r?[]:r).filter(function(e){return!x.includes(e.param)})[0]||"",o=n.get(e.data.nav_item_param_key||"tab")||s.param,c=n.get("integration"),l=(0,h.default)(function(e){return e.setActiveIntegrationId}),_=(0,h.default)(function(e){return e.setIntegrationsFlyoutState}),g=(0,h.default)(function(e){return e.setSettingsFlyout});switch("integrations"===o&&c&&(l(c),_({screen:2,action:"edit"}),g({closeOnMaskClick:!1,isOpen:!0,onClose:function(){return g({isOpen:!1})}},i.React.createElement(A.default,e))),o){case"settings":return i.React.createElement(m.default,e);case"integrations":return i.React.createElement(d.default,e);case"alerts":return i.React.createElement(u.default,e);case"emails":return i.React.createElement(p.default,e);case"logging":return i.React.createElement(f.default,e);default:return null}};t.default=function(e){var t=e.data,n=e.i18n,r=e.common,c=(0,E.A)(t.route_path),l=(null==t?void 0:t.caps)||{},u=(0,h.default)(function(e){return e.experimentalFeatures});Object.entries(D).forEach(function(e){var t=(0,a.A)(e,2),n=t[0];t[1].some(function(e){return l[e]})||x.push(n)}),(0,y.A)("wp_email_management")||x.includes("emails")||x.push("emails"),u.alerts_management||x.includes("alerts")?x=x.filter(function(e){return"alerts"!==e}):x.push("alerts");var p=(0,h.default)(function(e){return e.pageLoaderActive}),m=(0,h.default)(function(e){return e.setPageLoaderActive}),d={confirmButtonType:(0,h.default)(function(e){return e.confirmDialogConfirmButtonType}),customAttributes:(0,h.default)(function(e){return e.confirmDialogCustomAttributes}),i18n:w(w({},(null==r?void 0:r.i18n)||{}),(0,h.default)(function(e){return e.confirmDialogI18n})),isOpen:(0,h.default)(function(e){return e.confirmDialogOpen}),onCancel:(0,h.default)(function(e){return e.confirmDialogOnCancel}),onClose:(0,h.default)(function(e){return e.confirmDialogOnClose}),onConfirm:(0,h.default)(function(e){return e.confirmDialogOnConfirm})},f=function(e){m(e.detail)};return P(function(){return document.addEventListener("gravitysmtp/page_loader/active",f),function(){return document.removeEventListener("gravitysmtp/page_loader/active",f)}},[]),i.React.createElement(R,null,i.React.createElement(o.n,{defaultSettings:{errorIconAttributes:{icon:"exclamation-simple",iconPrefix:"gravitysmtp-admin-icon"},successIconAttributes:{icon:"correct",iconPrefix:"gravitysmtp-admin-icon"}}},i.React.createElement(k,{options:j},i.React.createElement("div",{className:"gravitysmtp-app__wrapper"},i.React.createElement(s.A,{customClasses:["gravitysmtp-settings-app"],Header:I,PrimarySideBarChildren:N,common:r,data:t,i18n:n,disabledNavItems:x},i.React.createElement("div",{className:"gravitysmtp-settings-app__content"},i.React.createElement(S,null,i.React.createElement(C,{path:c,element:i.React.createElement(L,{common:r,data:t,i18n:n,disabledNavItems:x})})))),i.React.createElement(_.default,{data:t,common:r,i18n:n}),i.React.createElement(g.A,d),i.React.createElement(b.A,{loading:p})))))}},12040:function(e,t,n){var r=n(71860),a=n(90455),i=n(8140),s=n(88856),o=n(78564),c=n.n(o),l=n(27122),u=n.n(l),p=n(97867),m=n(40388),d=n(21713),f=n(30242),_=n(80509),g=n(5529),b=n(25787),v=n(66598),y=n(16265),A=n(13379),h=n(39940),E=n(60325),O=n(84860),w=n(33695),P=n(49572),R=n(93313),S=n(83707),C=n(27764),T=n(59092);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){(0,s.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var x=p.React.forwardRef,D=p.React.useRef,I=p.React.useState,N=p.React.useEffect,L=x(function(e,t){var n=e.customAttributes,o=void 0===n?{}:n,l=e.customClasses,k=void 0===l?[]:l,x=e.common,L=void 0===x?{}:x,B=e.data,z=void 0===B?{}:B,W=e.i18n,M=void 0===W?{}:W,G=j({className:(0,p.classnames)({"gravitysmtp-settings-app__alerts":!0,"gravitysmtp-alerts-settings":!0},k)},o),V=(null==M?void 0:M.alerts)||{},F=V.alerts_box_heading,H=V.alert_threshold_count_label,J=V.alert_threshold_count_help_text,U=V.alert_threshold_interval_label,q=V.alert_threshold_interval_help_text,K=V.begin_drag_notice,Y=V.drag_button_label,$=V.email_request_fails_help_text,Q=V.email_request_fails_label,X=V.end_drag_notice,Z=V.end_drop_notice,ee=V.move_item_notice,te=V.notify_heading,ne=V.save_settings_button_label,re=V.slack_alerts_help_text,ae=V.slack_alerts_label,ie=V.slack_heading,se=V.slack_webhook_add_button_label,oe=V.slack_webhook_delete_button_label,ce=V.snackbar_test_alert_success,le=V.snackbar_test_alert_error,ue=V.start_sending_test_alert,pe=V.top_content,me=V.top_heading,de=V.twilio_account_add_button_label,fe=V.twilio_alerts_block_heading,_e=V.twilio_alerts_help_text,ge=V.twilio_alerts_label,be=V.twilio_heading,ve=(null==z?void 0:z.alerts_settings)||{},ye=ve.alert_threshold_count,Ae=ve.alert_threshold_interval,he=ve.notify_when_email_sending_fails_enabled,Ee=ve.slack_alerts_enabled,Oe=ve.twilio_alerts_enabled,we=ve.slack_alerts,Pe=void 0===we?{}:we,Re=Pe.fields,Se=void 0===Re?[]:Re,Ce=Pe.items,Te=void 0===Ce?[]:Ce,ke=Pe.path,je=void 0===ke?"":ke,xe=ve.twilio_alerts,De=void 0===xe?{}:xe,Ie=De.fields,Ne=void 0===Ie?[]:Ie,Le=De.items,Be=void 0===Le?[]:Le,ze=De.path,We=void 0===ze?"":ze,Me=(null==L?void 0:L.i18n)||{},Ge=Me.debug_messages,Ve=void 0===Ge?{}:Ge,Fe=Ve.saving_plugin_settings,He=void 0===Fe?"":Fe,Je=Ve.saving_plugin_settings_error,Ue=void 0===Je?"":Je,qe=Me.snackbar_generic_update_error,Ke=void 0===qe?"":qe,Ye=Me.snackbar_generic_update_success,$e=void 0===Ye?"":Ye,Qe=(null==L?void 0:L.endpoints)||{},Xe=Qe.save_alerts_settings,Ze=void 0===Xe?{}:Xe,et=Ze.action,tt=void 0===et?"":et,nt=Ze.nonce,rt=void 0===nt?"":nt,at=Qe.send_test_alert,it=void 0===at?{}:at,st=it.action,ot=void 0===st?"":st,ct=it.nonce,lt=void 0===ct?"":ct,ut=I(he),pt=(0,i.A)(ut,2),mt=pt[0],dt=pt[1],ft=I(Ee),_t=(0,i.A)(ft,2),gt=_t[0],bt=_t[1],vt=I(Oe),yt=(0,i.A)(vt,2),At=yt[0],ht=yt[1],Et=I(ye),Ot=(0,i.A)(Et,2),wt=Ot[0],Pt=Ot[1],Rt=I(Ae),St=(0,i.A)(Rt,2),Ct=St[0],Tt=St[1],kt=I(""),jt=(0,i.A)(kt,2),xt=jt[0],Dt=jt[1],It=I(!1),Nt=(0,i.A)(It,2),Lt=Nt[0],Bt=Nt[1],zt=(0,T.default)(function(e){return e.setSettingsNavBlocked}),Wt=(0,E.A)(je,!0),Mt=Wt.items,Gt=Wt.handleChange,Vt=Wt.onChange,Ft=(0,E.A)(We,!0,"twilio_account_name","block",fe),Ht=Ft.items,Jt=Ft.handleChange,Ut=Ft.onChange,qt={deleteLabel:oe,dragLabel:Y,beginDrag:K,endDrag:X,endDrop:Z,moveItem:ee},Kt=D(null),Yt=D(JSON.stringify(z.alerts_settings)),$t=(0,O.dh)();N(function(){JSON.stringify(z.alerts_settings)!==Yt.current?zt(!0):zt(!1)});var Qt=function(e,t){z&&z.alerts_settings&&(z.alerts_settings[e]=t)},Xt=function(){var e=(0,a.A)(c().mark(function e(t,n){var r,a,i,s;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={slack:Mt[n],twilio:Ht[n]},a={action:ot,security:lt,data:{type:t,settings:r[t]||{}}},e.next=5,(0,S.A)((0,d.nv)(ue,JSON.stringify((0,R.A)(["security"],a))),"info");case 5:return e.prev=5,e.next=8,(0,m.bE)({endpoint:u(),body:a});case 8:null!=(s=e.sent)&&null!==(i=s.data)&&void 0!==i&&i.success?$t(ce):(console.error(null==s?void 0:s.error),$t(le,"error")),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),console.error(e.t0),e.next=17,(0,S.A)((0,d.nv)(le,JSON.stringify(e.t0)),"error");case 17:case"end":return e.stop()}},e,null,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}(),Zt=function(e,t,n,a,i,s){return function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(n){return"Button"===n.component?j(j({},n),{},{props:j(j({},n.props),{},{onClick:function(){return Xt(s,t)}})}):j(j({},n),{},{props:j(j({},n.props),{},{id:e[t].repeater_item_id,onChange:i(n.props.name,t),value:e[t][n.props.name]})})})}(n,a).map(function(e,t){return"Button"===e.component?p.React.createElement(_.A,(0,r.A)({key:"".concat(s,"-repeater-input-test-").concat(t)},e.props)):p.React.createElement(b.A,(0,r.A)({key:"".concat(s,"-repeater-input-").concat(e.props.id,"-").concat(e.props.name),disabled:!(0,P.A)("CAPS_EDIT_ALERTS")},e.props))})},en=(0,P.A)("CAPS_EDIT_ALERTS")?{}:{disabled:!0},tn=function(){var e=(0,a.A)(c().mark(function e(){var t,n,r,a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Kt.current.offsetWidth,Dt(t),Bt(!0),n={action:tt,security:rt,alerts_settings:(0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)({},(0,w.A)("alert_threshold_count"),wt),(0,w.A)("alert_threshold_interval"),Ct),(0,w.A)("notify_when_email_sending_fails_enabled"),mt),(0,w.A)("slack_alerts_enabled"),gt),(0,w.A)("twilio_alerts_enabled"),At),(0,w.A)("slack_alerts"),Mt),(0,w.A)("twilio_alerts"),Ht)},e.next=6,(0,S.A)((0,d.nv)(He,JSON.stringify((0,R.A)(["security"],n))),"info");case 6:return e.prev=6,e.next=9,(0,m.bE)({endpoint:u(),body:n});case 9:a=e.sent,Bt(!1),Dt(""),null!=a&&null!==(r=a.data)&&void 0!==r&&r.success?($t($e),zt(!1),Yt.current=JSON.stringify(z.alerts_settings)):(console.error(null==a?void 0:a.error),$t(Ke,"error")),e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(6),console.error(e.t0),e.next=20,(0,S.A)((0,d.nv)(Ue,JSON.stringify(e.t0)),"error");case 20:case"end":return e.stop()}},e,null,[[6,15]])}));return function(){return e.apply(this,arguments)}}(),nn=function(e,t){t.target.name===(0,w.A)("alert_threshold_count")?(Pt(e),Qt((0,w.A)("alert_threshold_count"),e)):(Tt(e),Qt((0,w.A)("alert_threshold_interval"),e))},rn={controlled:!0,customAttributes:{min:1,"data-test-id":"alerts-settings-count"},customClasses:["gravitysmtp-alerts-settings__count"],disabled:!(0,P.A)("CAPS_EDIT_ALERTS"),helpTextAttributes:{content:J,size:"text-xs",weight:"regular"},labelAttributes:j({label:H},(0,C.A)((0,w.A)("alert_threshold_count"))),name:(0,w.A)("alert_threshold_count"),onChange:nn,spacing:4,type:"number",value:String(wt)},an={controlled:!0,customAttributes:{min:1,"data-test-id":"alerts-settings-interval"},customClasses:["gravitysmtp-alerts-settings__interval"],disabled:!(0,P.A)("CAPS_EDIT_ALERTS"),helpTextAttributes:{content:q,size:"text-xs",weight:"regular"},labelAttributes:j({label:U},(0,C.A)((0,w.A)("alert_threshold_interval"))),name:(0,w.A)("alert_threshold_interval"),onChange:nn,spacing:4,type:"number",value:String(Ct)};return p.React.createElement("div",(0,r.A)({},G,{ref:t}),p.React.createElement(g.A,{size:"display-sm",weight:"semibold",spacing:1,content:me}),p.React.createElement(f.A,{x:1100},p.React.createElement(v.A,{size:"text-sm",spacing:6,color:"comet",content:pe})),p.React.createElement(A.A,{HeaderContent:function(e){return p.React.createElement(f.A,{x:630},p.React.createElement(g.A,(0,r.A)({content:F,tagName:"h2",size:"text-lg",weight:"medium"},e)))},FooterContent:function(e){var t={"data-test-id":"alerts-settings-save"};xt&&(t.style={width:"".concat(xt,"px")});var n=(0,p.classnames)({"gravitysmtp-alerts-settings__save-settings":!0,"gravitysmtp-alerts-settings__save-settings--saving":Lt});return p.React.createElement(_.A,(0,r.A)({active:Lt,activeType:"loader",customAttributes:t,customClasses:n,disabled:!(0,P.A)("CAPS_EDIT_ALERTS")||Lt,icon:"save-disk",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:ne,onClick:tn,size:"size-height-m",ref:Kt},e))}},p.React.createElement(f.A,{customClasses:["gravitysmtp-alerts-settings__box-container"],x:630},p.React.createElement(g.A,{size:"text-sm",weight:"medium",type:"boxed",spacing:4,content:te}),p.React.createElement(y.A,{customAttributes:{"data-test-id":"settings-alerts-email-request-fails"},helpTextAttributes:{content:$,size:"text-sm"},initialChecked:mt,labelAttributes:{label:Q},onChange:function(e){dt(e),Qt((0,w.A)("notify_when_email_sending_fails_enabled"),e)},labelPosition:"left",name:(0,w.A)("notify_when_email_sending_fails_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,P.A)("CAPS_EDIT_ALERTS")}),mt&&((0,P.A)("CAPS_VIEW_ALERTS_SLACK_SETTINGS")||(0,P.A)("CAPS_VIEW_ALERTS_TWILIO_SETTINGS"))&&p.React.createElement(p.React.Fragment,null,p.React.createElement(b.A,rn),p.React.createElement(b.A,an),p.React.createElement(g.A,{size:"text-sm",weight:"medium",type:"boxed",spacing:4,content:ie}),p.React.createElement(y.A,{customAttributes:{"data-test-id":"settings-alerts-slack-alerts"},helpTextAttributes:{content:re,size:"text-sm"},initialChecked:gt,labelAttributes:{label:ae},onChange:function(e){bt(e),Qt((0,w.A)("slack_alerts_enabled"),e)},labelPosition:"left",name:(0,w.A)("slack_alerts_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,P.A)("CAPS_EDIT_ALERTS")}),gt&&(0,P.A)("CAPS_VIEW_ALERTS_SLACK_SETTINGS")&&p.React.createElement(h.A,{addButtonAttributes:j({label:se},en),collapsibleButtonAttributes:j({iconPrefix:"gravitysmtp-admin-icon"},en),customClasses:["gravitysmtp-alerts-settings__slack-webhooks"],dragHandleAttributes:{iconPrefix:"gravitysmtp-admin-icon"},deleteButtonAttributes:j({iconPrefix:"gravitysmtp-admin-icon"},en),downButtonAttributes:j({iconPrefix:"gravitysmtp-admin-icon"},en),fillContent:!0,id:"repeater-slack-alerts",i18n:qt,isDraggable:!0,isSortable:!0,items:Mt,minItems:1,newItemState:{slack_webhook_url:""},onChange:Gt,renderItem:function(e,t){return Zt(0,t,Se,Te,Vt,"slack")},showArrows:!1,showDelete:!0,showDragHandle:!0,spacing:6,upButtonAttributes:j({iconPrefix:"gravitysmtp-admin-icon"},en)}),p.React.createElement(g.A,{size:"text-sm",weight:"medium",type:"boxed",spacing:4,content:be}),p.React.createElement(y.A,{customAttributes:{"data-test-id":"settings-alerts-slack-alerts"},helpTextAttributes:{content:_e,size:"text-sm"},initialChecked:At,labelAttributes:{label:ge},onChange:function(e){ht(e),Qt((0,w.A)("twilio_alerts_enabled"),e)},labelPosition:"left",name:(0,w.A)("twilio_alerts_enabled"),spacing:At?6:0,size:"size-m",width:"full",disabled:!(0,P.A)("CAPS_EDIT_ALERTS")}),At&&(0,P.A)("CAPS_VIEW_ALERTS_TWILIO_SETTINGS")&&p.React.createElement(h.A,{addButtonAttributes:j({label:de},en),collapsible:!0,collapsibleButtonAttributes:j({iconPrefix:"gravitysmtp-admin-icon"},en),customClasses:["gravitysmtp-alerts-settings__twilio-accounts"],dragHandleAttributes:{iconPrefix:"gravitysmtp-admin-icon"},deleteButtonAttributes:j({iconPrefix:"gravitysmtp-admin-icon"},en),downButtonAttributes:j({iconPrefix:"gravitysmtp-admin-icon"},en),id:"twilio-alerts",i18n:qt,items:Ht,isDraggable:!0,isSortable:!0,minItems:1,newItemState:{twilio_account_name:"",twilio_account_id:"",twilio_auth_token:"",twilio_from_phone_number:"",twilio_to_phone_number:"",repeater_item_block_content_title:fe.replace("%s",""),repeater_item_collapsed:!1},onChange:Jt,renderItem:function(e,t){return Zt(0,t,Ne,Be,Ut,"twilio")},showArrows:!0,showDelete:!0,showDragHandle:!0,type:"block",upButtonAttributes:j({iconPrefix:"gravitysmtp-admin-icon"},en)})))))});L.propTypes={customAttributes:p.PropTypes.object,customClasses:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.array,p.PropTypes.object])},L.displayName="AlertsScreen",t.default=L},12526:function(e,t,n){var r=n(71860),a=n(88856),i=n(97867),s=n(21713),o=n(30242),c=n(5529),l=n(66598),u=n(16265),p=n(13379),m=n(84860),d=n(49572),f=n(27764),_=n(68381);function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A=(0,i.React.forwardRef)(function(e,t){var n=e.customAttributes,a=void 0===n?{}:n,b=e.customClasses,v=void 0===b?[]:b,A=e.data,h=void 0===A?{}:A,E=e.i18n,O=void 0===E?{}:E,w=y({className:(0,i.classnames)({"gravitysmtp-settings-app__emails":!0},v)},a),P=h.managed_email_types,R=void 0===P?[]:P,S=(null==O?void 0:O.emails)||{},C=S.top_heading,T=S.top_content,k=S.email_notifications_box_heading,j=(0,m.dh)();return i.React.createElement("div",(0,r.A)({},w,{ref:t}),i.React.createElement(c.A,{size:"display-sm",weight:"semibold",spacing:1,content:C}),i.React.createElement(l.A,{size:"text-sm",spacing:6,color:"comet",content:T}),i.React.createElement(p.A,{HeaderContent:function(e){return i.React.createElement(c.A,(0,r.A)({content:k,size:"text-lg",weight:"medium"},e))}},R.map(function(e,t){return i.React.createElement(o.A,{key:"".concat((0,s.Yv)(e.category),"-").concat(t),x:630},i.React.createElement(c.A,{size:"text-sm",weight:"medium",type:"boxed",spacing:4,content:e.category}),e.items.map(function(n,r){var a=4;return r===e.items.length-1&&(a=t===R.length-1?1:6),i.React.createElement(u.A,{key:"".concat(n.key,"-").concat(r),id:"toggle-".concat(n.key),customAttributes:{"data-test-id":n.key},disabled:!(0,d.A)("CAPS_EDIT_EMAIL_MANAGEMENT_SETTINGS"),initialChecked:n.value,labelAttributes:y({label:n.label},(0,f.A)(n.key)),helpTextAttributes:{content:n.description,spacing:[3,0,0,0]},helpTextWidth:"full",labelPosition:"left",name:n.key,onChange:function(e){(0,_.A)({addSnackbarMessage:j,key:n.key,successCallback:function(){!function(e,t,n){var r,a=g(n);try{for(a.s();!(r=a.n()).done;){var i,s=g(r.value.items);try{for(s.s();!(i=s.n()).done;){var o=i.value;if(o.key===e)return o.value=t,n}}catch(e){s.e(e)}finally{s.f()}}}catch(e){a.e(e)}finally{a.f()}}(n.key,e,R)},value:e})},spacing:a,size:"size-m",width:"full"})}))})))});A.propTypes={customAttributes:i.PropTypes.object,customClasses:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.array,i.PropTypes.object]),data:i.PropTypes.object,i18n:i.PropTypes.object},A.displayName="EmailsScreen",t.default=A},24316:function(e,t,n){n.d(t,{$:function(){return a.A},Q:function(){return r.A}});var r=n(52320),a=n(70531)},31945:function(e,t){t.A=function(e){var t=window.location.origin,n="//".concat(window.location.host);return e.replace(t,"").replace(n,"")}},52166:function(e,t,n){var r=n(71860),a=n(88856),i=n(90455),s=n(78564),o=n.n(s),c=n(97867),l=n(8412),u=n(59092);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=c.React.forwardRef,f=c.React.useEffect,_=c.ReactRouter.useLocation,g=c.ReactRouter.useNavigate,b=d(function(e,t){var n=e.customAttributes,a=void 0===n?{}:n,s=e.customClasses,p=void 0===s?[]:s,d=e.data,b=void 0===d?{}:d,v=e.disabledNavItems,y=void 0===v?[]:v,A=e.i18n,h=void 0===A?{}:A,E=b.nav_items,O=void 0===E?[]:E,w=_(),P=g(),R=(0,u.default)(function(e){return e.settingsNavBlocked}),S=(0,u.default)(function(e){return e.setSettingsNavBlocked}),C=(0,u.default)(function(e){return e.setConfirmDialogSettings}),T=(0,u.default)(function(e){return e.setConfirmDialogOpen}),k=h||{},j=k.unsaved_changes_title,x=void 0===j?"":j,D=k.unsaved_changes_message,I=void 0===D?"":D;f(function(){var e=function(e){R&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}},[R]);var N=O.filter(function(e){return!y.includes(e.param)}).map(function(e,t){var n=e.param,r=e.label,a=e.icon,i={item:{customClasses:["gravitysmtp-settings-app__nav-bar-item","gravitysmtp-settings-app__nav-bar-item--".concat(n)],key:"".concat(n,"-").concat(t)},icon:{customClasses:["gravitysmtp-settings-app__nav-bar-item-icon"],icon:a,iconPrefix:"gravitysmtp-admin-icon"},text:{content:r,customClasses:["gravitysmtp-settings-app__nav-bar-item-text"]}};if(y.includes(n))return m(m({},i),{},{item:m(m({},i.item),{},{active:!1,disabled:!0}),button:{customClasses:["gravitysmtp-settings-app__nav-bar-item-button","gravitysmtp-settings-app__nav-bar-item-button--".concat(n)],size:"size-height-m",type:"icon-white",disabled:!0}});var s=new URLSearchParams(w.search),o=b.nav_item_param_key||"tab",c=s.get(o);s.set(o,n);var l=m(m({},w),{},{search:"?".concat(s.toString())});return m(m({},i),{},{item:m(m({},i.item),{},{active:c===n}),link:{customClasses:["gravitysmtp-settings-app__nav-bar-item-link","gravitysmtp-settings-app__nav-bar-item-link--".concat(n)],to:l}})}),L=m({customClasses:(0,c.classnames)(["gravitysmtp-settings-app__nav-bar"],p),handleNavigationBlocked:function(e){var t;C({confirmDialogI18n:{confirm_change_content:I,confirm_change_heading:x},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return T(!1)},confirmDialogOnClose:function(){return T(!1)},confirmDialogOnConfirm:(t=(0,i.A)(o().mark(function t(){var n,r;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:S(!1),T(!1),n=new URL(e),r=n.pathname+n.search,P(r);case 5:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)})})},items:N,type:"icon-button",navigationBlocked:R},a);return c.React.createElement(l.A,(0,r.A)({},L,{ref:t}))});b.propTypes={children:c.PropTypes.oneOfType([c.PropTypes.arrayOf(c.PropTypes.node),c.PropTypes.node]),customAttributes:c.PropTypes.object,customClasses:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.array,c.PropTypes.object])},b.displayName="NavBar",t.default=b},56985:function(e,t,n){var r=n(71860),a=n(88856),i=n(97867),s=n(24316),o=n(30242),c=n(43632),l=n(59092);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var p=(0,i.React.forwardRef)(function(e,t){var n=e.customAttributes,p=void 0===n?{}:n,m=e.customClasses,d=void 0===m?[]:m,f=e.common,_=void 0===f?{}:f,g=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({className:(0,i.classnames)({"gravitysmtp-settings-app__header":!0},d)},p),b=_.i18n,v=void 0===b?{}:b,y=v.debug_log_enabled,A=void 0===y?"":y,h=v.test_mode_enabled,E=void 0===h?"":h,O=(0,l.default)(function(e){return e.debugLogEnabled}),w=(0,l.default)(function(e){return e.testModeEnabled});return i.React.createElement("div",(0,r.A)({},g,{ref:t}),i.React.createElement("div",{className:"gravitysmtp-settings-app__header-logo"},i.React.createElement(s.Q,null)),i.React.createElement("div",{className:"gravitysmtp-settings-app__header-main"},i.React.createElement(s.$,null),i.React.createElement(o.A,{customClasses:["gravitysmtp-header__status"],setDisplay:!1},O&&i.React.createElement(c.A,{status:"warning",size:"sm",spacing:[0,w?4:0,0,0],label:A,isStatic:!0}),w&&i.React.createElement(c.A,{status:"blue",size:"sm",label:E,isStatic:!0}))))});p.propTypes={customAttributes:i.PropTypes.object,customClasses:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.array,i.PropTypes.object])},p.displayName="SettingsHeader",t.default=p}}]);