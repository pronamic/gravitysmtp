"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[628,812,3409],{16954:function(e,t,a){a.r(t);var i=a(71860),n=a(88856),r=a(97867),o=a(10997),c=a(30242),s=a(43632);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}var m=(0,r.React.forwardRef)(function(e,t){var a=e.customAttributes,m=void 0===a?{}:a,d=e.customClasses,u=void 0===d?[]:d,p=e.common,v=void 0===p?{}:p,f=e.showModes,g=void 0===f||f,y=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({className:(0,r.classnames)({"gravitysmtp-activity-log-app__header":!0},u)},m),_=v.data,b=void 0===_?{}:_,w=b.debug_log_enabled,h=void 0!==w&&w,R=b.test_mode_enabled,E=void 0!==R&&R,O=v.i18n,A=void 0===O?{}:O,P=A.debug_log_enabled,j=void 0===P?"":P,C=A.test_mode_enabled,N=void 0===C?"":C;return r.React.createElement("div",(0,i.A)({},y,{ref:t}),r.React.createElement("div",{className:"gravitysmtp-activity-log-app__header-main"},r.React.createElement("div",{className:"gravitysmtp-activity-log-app__header-logo"},r.React.createElement(o.A,{height:22,width:220})),g&&r.React.createElement(c.A,{customClasses:["gravitysmtp-header__status"],setDisplay:!1},h&&r.React.createElement(s.A,{status:"warning",size:"sm",spacing:[0,E?4:0,0,0],label:j,isStatic:!0}),E&&r.React.createElement(s.A,{status:"blue",size:"sm",label:N,isStatic:!0}))))});m.propTypes={customAttributes:r.PropTypes.object,customClasses:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.array,r.PropTypes.object])},m.displayName="ActivityLogHeader",t.default=m},59238:function(e,t,a){a.r(t);var i=a(88856),n=a(8140),r=a(96342),o=a(97867),c=a(62825),s=a(84860),l=a(3258),m=a(99201),d=a(72695),u=a(16954),p=a(23664),v=a(52217),f=a(98895),g=["simpleBarRef"];function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach(function(t){(0,i.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var b=o.React.useRef,w=o.ReactRouter.BrowserRouter,h=o.ReactRouter.Routes,R=o.ReactRouter.Route,E=o.ReactRouter.useSearchParams,O=(o.ReactRouter.useLocation,function(e){return o.React.createElement(u.default,e)}),A=function(e){var t=e.simpleBarRef,a=(0,r.A)(e,g),i=E(),c=(0,n.A)(i,2),s=c[0],l=(c[1],s.get(a.data.nav_item_param_key||"tab")||"activity-log");switch(t.current&&(t.current.scrollTop=0),l){case"activity-log":return o.React.createElement(p.default,a);case"log-details":return o.React.createElement(v.default,a);default:return null}};t.default=function(e){var t=e.data,a=e.endpoints,i=e.i18n,n=e.common,r=t.route_path.replace(window.location.origin,""),u=b(),p={confirmButtonType:(0,f.default)(function(e){return e.confirmDialogConfirmButtonType}),i18n:_(_({},(null==n?void 0:n.i18n)||{}),(0,f.default)(function(e){return e.confirmDialogI18n})),isOpen:(0,f.default)(function(e){return e.confirmDialogOpen}),onCancel:(0,f.default)(function(e){return e.confirmDialogOnCancel}),onConfirm:(0,f.default)(function(e){return e.confirmDialogOnConfirm})};return o.React.createElement(w,null,o.React.createElement(s.n,{defaultSettings:{errorIconAttributes:{icon:"exclamation-simple",iconPrefix:"gravitysmtp-admin-icon"},successIconAttributes:{icon:"correct",iconPrefix:"gravitysmtp-admin-icon"}}},o.React.createElement("div",{className:"gravitysmtp-app__wrapper"},o.React.createElement(c.A,{customClasses:["gravitysmtp-activity-log-app"],Header:O,simpleBarRef:u,common:n,data:t,i18n:i},o.React.createElement("div",{className:"gravitysmtp-activity-log-app__content"},o.React.createElement(h,null,o.React.createElement(R,{path:r,element:o.React.createElement(A,{data:t,endpoints:a,i18n:i,common:n,simpleBarRef:u})})))),o.React.createElement(m.default,{data:t,endpoints:a,common:n,i18n:i}),o.React.createElement(d.default,{data:t,common:n,i18n:i}),o.React.createElement(l.A,p))))}},72695:function(e,t,a){a.r(t);var i=a(71860),n=a(88856),r=a(8140),o=a(97867),c=a(62825),s=a(16954),l=a(48959),m=a(15635),d=a(32722),u=a(80509),p=a(5529),v=a(25980),f=a(66598),g=a(98895);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}var _=o.React.forwardRef,b=o.React.useEffect,w=o.React.useState,h=function(e){var t=e.wrapperClasses,a=void 0===t?[]:t,i=e.dot,n=void 0===i||i,r=e.width,c=void 0===r?"62px":r,s={className:(0,o.classnames)(["gravitysmtp-view-email__placeholder-stripe"],a)};return o.React.createElement("div",s,n&&o.React.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-dot"}),o.React.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-line",style:{width:c}}))},R=_(function(e,t){var a,_,R=e.customAttributes,E=void 0===R?{}:R,O=e.customClasses,A=void 0===O?[]:O,P=e.common,j=void 0===P?{}:P,C=e.data,N=void 0===C?{}:C,T=e.i18n,k=void 0===T?{}:T,x=(0,g.default)(function(e){return e.viewEmailDialogOpen}),D=(0,g.default)(function(e){return e.setViewEmailDialogOpen}),S=(0,g.default)(function(e){return e.viewEmailEventId}),z=(0,g.default)(function(e){return e.viewEmailEventIsHtml}),B=(0,g.default)(function(e){return e.viewEmailEventDate}),I=(0,g.default)(function(e){return e.viewEmailEventFromHash}),H=(0,g.default)(function(e){return e.viewEmailEventFrom}),L=(0,g.default)(function(e){return e.viewEmailEventTo}),M=(0,g.default)(function(e){return e.viewEmailEventTitle}),J=(0,g.default)(function(e){return e.setViewEmailEventProperties}),F=w(!1),V=(0,r.A)(F,2),W=V[0],U=V[1],q=w("desktop"),G=(0,r.A)(q,2),K=G[0],Q=G[1],X=(null==j||null===(a=j.endpoints)||void 0===a||null===(a=a.get_email_message)||void 0===a?void 0:a.action)||"",Y=(null==j||null===(_=j.endpoints)||void 0===_||null===(_=_.get_email_message)||void 0===_?void 0:_.nonce)||"",Z="".concat(null==N?void 0:N.ajax_url,"?action=").concat(X,"&security=").concat(Y,"&event_id=").concat(S),$=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({className:(0,o.classnames)({"gravitysmtp-view-email":!0},A)},E),ee={className:(0,o.classnames)({"gravitysmtp-view-email__sidebar-container":!0,"gravitysmtp-view-email__sidebar-container--loading":W})},te={className:(0,o.classnames)((0,n.A)({"gravitysmtp-view-email__container":!0,"gravitysmtp-view-email__container--html-mode":z},"gravitysmtp-view-email__container--".concat(K,"-mode"),!0))},ae=(null==k?void 0:k.log_detail)||{},ie=ae.main_box_from_label,ne=ae.main_box_to_label,re=ae.view_email_desktop_mode,oe=ae.view_email_mobile_mode;b(function(){x&&U(!0),Q("desktop")},[x]);var ce={closeButtonType:"simplified",onCloseAfterAnimation:function(){J({date:"",isHtml:!1,id:0,fromHash:"",from:"",to:"",title:""}),D(!1)},customWrapperClasses:["gravitysmtp-view-email__dialog"],customMaskClasses:["gravitysmtp-view-email__mask"],customCloseButtonLabelAttributes:{className:(0,o.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:"",isOpen:x,maskTheme:"light",mode:"modal",padContent:!1,position:"absolute",theme:"cosmos",version:2,zIndex:100001},se=[62,62,55,81,81,55],le={className:(0,o.classnames)({"gravitysmtp-view-email__header-details-meta":!0,"gravitysmtp-view-email__header-details-meta--loading":W})};return o.React.createElement("div",(0,i.A)({},$,{ref:t}),o.React.createElement(l.A,ce,o.React.createElement(c.A,{customClasses:["gravitysmtp-view-email-layout"],Header:function(e){return o.React.createElement(s.default,(0,i.A)({},e,{showModes:!1}))},PrimarySideBarChildren:function(){return o.React.createElement("div",ee,se.map(function(e,t){return o.React.createElement(h,{key:"stripe-".concat(t,"-").concat(e),width:"".concat(e,"px")})}))},data:N,simplebarContent:!1},o.React.createElement("div",te,o.React.createElement("div",{className:"gravitysmtp-view-email__header"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-title-wrapper"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-title"},""!==M&&!W&&o.React.createElement(p.A,{customClasses:["gravitysmtp-view-email__header-title-subject"],tagName:"h2",size:"text-xl",weight:"medium",content:M}),W&&o.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"35%"})),!W&&o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-actions"},o.React.createElement(u.A,{icon:"desktop",iconPrefix:"gravitysmtp-admin-icon",label:re,onClick:function(){return Q("desktop")},size:"size-height-s",spacing:[0,3,0,0],type:"icon-white"}),o.React.createElement(u.A,{icon:"mobile",iconPrefix:"gravitysmtp-admin-icon",label:oe,onClick:function(){return Q("mobile")},size:"size-height-s",type:"icon-white"}))),o.React.createElement("div",{className:"gravitysmtp-view-email__header-details"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-left"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-image"},o.React.createElement(v.A,{customClasses:["gravitysmtp-view-email__header-details-default"],icon:"account",iconPrefix:"gravitysmtp-admin-icon"}),""!==I&&o.React.createElement(m.A,{customClasses:["gravitysmtp-view-email__header-details-gravatar"],emailHash:I,height:40,width:40,defaultImage:"blank"})),o.React.createElement("div",le,W&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-from gravitysmtp-view-email__header-details-from--has-loader"},o.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"75%"})),W&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},o.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"45%"})),!W&&""!==H&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-from"},o.React.createElement(f.A,{tagName:"span",size:"text-sm",weight:"semibold",content:ie})," ",o.React.createElement(f.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:H})),!W&&""!==L&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},o.React.createElement(f.A,{weight:"semibold",tagName:"span",size:"text-sm",content:ne})," ",o.React.createElement(f.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:L})))),o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-right"},!W&&""!==B&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-date"},o.React.createElement(f.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-xs",content:B}))))),o.React.createElement("div",{className:"gravitysmtp-view-email__wrapper"},W&&o.React.createElement(d.A,{loaderCustomAttributes:{mask:!0,maskCustomClasses:["gravitysmtp-view-email__iframe-loader-mask"]}}),0!==S&&o.React.createElement("iframe",{className:"gravitysmtp-view-email__iframe",onLoad:function(){U(!1)},title:M,src:Z}))))))});R.propTypes={customAttributes:o.PropTypes.object,customClasses:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.array,o.PropTypes.object]),common:o.PropTypes.object,data:o.PropTypes.object,i18n:o.PropTypes.object},t.default=R},98846:function(e,t,a){a.r(t);var i,n,r=a(71860),o=a(97867),c=a(40450),s=a.n(c),l=a(59238),m=o.ReactDOM.createRoot,d=(null===s()||void 0===s()?void 0:s().common)||{},u=(null===s()||void 0===s()||null===(i=s().components)||void 0===i?void 0:i.activity_log)||{},p=(null===s()||void 0===s()||null===(n=s().components)||void 0===n?void 0:n.setup_wizard)||{};t.default=function(e){var t;null!=p&&null!==(t=p.data)&&void 0!==t&&t.should_display&&document.body.classList.add("gravitysmtp-apps--hidden"),window.scrollTo(0,0),m(e).render(o.React.createElement(l.default,(0,r.A)({},u,{common:d})))}},99201:function(e,t,a){a.r(t);var i=a(71860),n=a(90455),r=a(88856),o=a(8140),c=a(78564),s=a.n(c),l=a(27122),m=a.n(l),d=a(97867),u=a(60177),p=a(21713),v=a(80509),f=a(29549),g=a(48959),y=a(84860),_=a(83707),b=a(93313),w=a(98895);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach(function(t){(0,r.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var E=d.React.forwardRef,O=d.React.useState,A=d.ReactRouter.useLocation,P=d.ReactRouter.useNavigate,j=E(function(e,t){var a,r,c=e.customAttributes,l=void 0===c?{}:c,h=e.customClasses,E=void 0===h?[]:h,j=e.common,C=void 0===j?{}:j,N=e.data,T=void 0===N?{}:N,k=e.endpoints,x=void 0===k?{}:k,D=e.i18n,S=void 0===D?{}:D,z=P(),B=A(),I=(0,w.default)(function(e){return e.singleActivityDialogOpen}),H=(0,w.default)(function(e){return e.setSingleActivityDialogOpen}),L=(0,w.default)(function(e){return e.singleActivityEventId}),M=(0,w.default)(function(e){return e.setSingleActivityEventId}),J=(0,w.default)(function(e){return e.singleActivityType}),F=(0,w.default)(function(e){return e.setSingleActivityType}),V=O(!1),W=(0,o.A)(V,2),U=W[0],q=W[1],G=(0,y.dh)(),K=(null==C||null===(a=C.endpoints)||void 0===a||null===(a=a.delete_email)||void 0===a?void 0:a.action)||"",Q=(null==C||null===(r=C.endpoints)||void 0===r||null===(r=r.delete_email)||void 0===r?void 0:r.nonce)||"",X=((null==C?void 0:C.i18n)||{}).snackbar_email_log_delete_error,Y=void 0===X?"":X,Z=(x||{}).gravitysmtp_resend_email,$=void 0===Z?{}:Z,ee=$.action,te=void 0===ee?"":ee,ae=$.nonce,ie=void 0===ae?"":ae,ne=S.confirm_delete_email_heading,re=void 0===ne?"":ne,oe=S.confirm_delete_email_content,ce=void 0===oe?"":oe,se=S.confirm_delete_email_delete,le=void 0===se?"":se,me=S.confirm_delete_email_cancel,de=void 0===me?"":me,ue=S.confirm_resend_email_heading,pe=void 0===ue?"":ue,ve=S.confirm_resend_email_content,fe=void 0===ve?"":ve,ge=S.confirm_resend_email_resend,ye=void 0===ge?"":ge,_e=S.confirm_resend_email_cancel,be=void 0===_e?"":_e,we=S.debug_messages,he=void 0===we?{}:we,Re=he.deleting_single_activity_log,Ee=void 0===Re?"":Re,Oe=he.deleting_single_activity_log_error,Ae=void 0===Oe?"":Oe,Pe=S.resending_email,je=S.resending_error,Ce=S.snackbar_resend_error,Ne=S.snackbar_resend_success,Te=R({className:(0,d.classnames)({"gravitysmtp-single-activity":!0},E)},l),ke=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=new URLSearchParams(B.search),i=T.nav_item_param_key||"tab";if("activity-log"!==a.get(i))if(a.delete("event_id"),a.set(i,"activity-log"),"activity-log"===(null==B||null===(e=B.state)||void 0===e?void 0:e.previous)){if(!t)return void z(-1);window.location.href="".concat(B.pathname,"?").concat(a.toString())}else{if(!t){var n=R(R({},B),{},{search:"?".concat(a.toString())});z(n,{state:{previous:"log-details"}})}window.location.href="".concat(B.pathname,"?").concat(a.toString())}else t&&window.location.reload()},xe=function(){var e=(0,n.A)(s().mark(function e(){var t,a,i,n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),t={action:K,security:Q,event_id:L},e.next=4,(0,_.A)((0,p.nv)(Ee,JSON.stringify((0,b.A)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,u.bE)({endpoint:m(),body:t});case 7:null!=(i=e.sent)&&null!==(a=i.data)&&void 0!==a&&a.success?G(null==i||null===(n=i.data)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message):G(Y,"error"),H(!1),ke(!0),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(4),G(e.t0.message,"error"),e.next=18,(0,_.A)((0,p.nv)(Ae,JSON.stringify(e.t0)),"error");case 18:case"end":return e.stop()}},e,null,[[4,13]])}));return function(){return e.apply(this,arguments)}}(),De=function(){var e=(0,n.A)(s().mark(function e(){var t,a,i;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),t={action:te,security:ie,email_id:L},e.next=4,(0,_.A)((0,p.nv)(Pe,JSON.stringify((0,b.A)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,u.bE)({endpoint:m(),body:t});case 7:null!=(i=e.sent)&&null!==(a=i.data)&&void 0!==a&&a.success?G(Ne):G(Ce,"error"),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(4),G(Ce,"error"),e.next=16,(0,_.A)((0,p.nv)(je,JSON.stringify(e.t0)),"error");case 16:q(!1),H(!1),M(0),F("");case 20:case"end":return e.stop()}},e,null,[[4,11]])}));return function(){return e.apply(this,arguments)}}(),Se="delete"===J,ze=Se?re:pe,Be=Se?ce:fe,Ie=Se?le:ye,He=Se?de:be,Le=Se?xe:De,Me={onCloseAfterAnimation:function(){M(0),F(""),q(!1)},closeOnMaskClick:!1,customWrapperClasses:["gravitysmtp-single-activity__dialog"],customCloseButtonLabelAttributes:{className:(0,d.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:Be,isOpen:I,maskTheme:"light",mode:"modal",padContent:!1,position:"absolute",showCloseButton:!1,theme:"cosmos",title:ze};return d.React.createElement("div",(0,i.A)({},Te,{ref:t}),d.React.createElement(g.A,Me,d.React.createElement(f.A,{container:!0,customClasses:["gravitysmtp-single-activity__dialog-actions"],justifyContent:"flex-start",columnSpacing:3,spacing:[8,0,0,0],type:"fluid"},d.React.createElement(f.A,{item:!0,width:6},d.React.createElement(v.A,{label:He,onClick:function(){return H(!1)},type:"white",width:"full"})),d.React.createElement(f.A,{item:!0,width:6},d.React.createElement(v.A,{active:U,activeType:"loader",label:Ie,onClick:Le,width:"full"})))))});j.propTypes={customAttributes:d.PropTypes.object,customClasses:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.array,d.PropTypes.object]),common:d.PropTypes.object,data:d.PropTypes.object,endpoints:d.PropTypes.object,i18n:d.PropTypes.object},t.default=j}}]);