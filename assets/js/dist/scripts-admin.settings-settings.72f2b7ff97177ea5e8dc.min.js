"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[622,3020],{3753:function(e,t,n){var r=n(18134),i=n(88856),a=n(32352),s=n(57456),o=n(59092);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.default=function(){var e,t=(0,o.default)(function(e){return e.settingsFlyoutChildren}),n=(0,o.default)(function(e){return e.settingsFlyoutProps}),i=(0,o.default)(function(e){return e.setSettingsFlyout}),l=c(c({desktopWidth:"600px",direction:"right",headerIsFixed:!0,maskBlur:!0,maskClickExcludeButtons:[3,4],maskTheme:"light",mobileBreakpoint:768,onClose:function(){return i({isOpen:!1})},offsetWPAdminBar:!0,offsetWPAdminMenu:!0,resetScrollOnOpen:!0,simplebar:!0},n),{},{closeButtonCustomAttributes:c(c({icon:"x",iconPrefix:"gravitysmtp-admin-icon",size:"size-height-s",theme:"cosmos",type:"simplified"},(null==n?void 0:n.closeButtonCustomAttributes)||{}),{},{customClasses:["gravitysmtp-settings-app__settings-flyout-close"].concat((0,r.A)((null==n||null===(e=n.closeButtonCustomAttributes)||void 0===e?void 0:e.customClasses)||[]))}),customBodyClasses:["gravitysmtp-settings-app__settings-flyout-body"].concat((0,r.A)((null==n?void 0:n.customBodyClasses)||[])),customClasses:["gravitysmtp-settings-app__settings-flyout"].concat((0,r.A)((null==n?void 0:n.customClasses)||[]))});return a.q_.createElement(s.A,l,t)}},5152:function(e,t,n){var r=n(88856),i=n(8140),a=n(32352),s=n(62825),o=n(84860),l=n(56985),c=n(52166),u=n(12040),m=n(12526),d=n(69586),_=n(46716),p=n(65862),f=n(3753),g=n(3258),b=n(19535),v=n(90266),y=n(36770),A=n(52636),h=n(59092),E=n(31945);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=a.q_.useEffect,C=a.tm.BrowserRouter,P=a.tm.Routes,k=a.tm.Route,j=a.tm.useSearchParams,x=a.Xl.DndProvider,q=a.sA.HTML5toTouch,T=["routing"],I={alerts:[(0,v.A)("CAPS_VIEW_ALERTS")],settings:[(0,v.A)("CAPS_VIEW_LICENSE_KEY"),(0,v.A)("CAPS_VIEW_TEST_MODE"),(0,v.A)("CAPS_VIEW_USAGE_ANALYTICS"),(0,v.A)("CAPS_VIEW_NOTIFICATIONS_SETTINGS")],integrations:[(0,v.A)("CAPS_VIEW_INTEGRATIONS")],logging:[(0,v.A)("CAPS_VIEW_EMAIL_LOG_SETTINGS")],emails:[(0,v.A)("CAPS_VIEW_EMAIL_MANAGEMENT_SETTINGS")]},D=function(e){return a.q_.createElement(l.default,e)},B=function(e){return a.q_.createElement(c.default,e)},N=function(e){var t=j(),n=(0,i.A)(t,1)[0],r=e.data.nav_items,s=(void 0===r?[]:r).filter(function(e){return!T.includes(e.param)})[0]||"",o=n.get(e.data.nav_item_param_key||"tab")||s.param,l=n.get("integration"),c=(0,h.default)(function(e){return e.setActiveIntegrationId}),f=(0,h.default)(function(e){return e.setIntegrationsFlyoutState}),g=(0,h.default)(function(e){return e.setSettingsFlyout});switch("integrations"===o&&l&&(c(l),f({screen:2,action:"edit"}),g({closeOnMaskClick:!1,isOpen:!0,onClose:function(){return g({isOpen:!1})}},a.q_.createElement(A.default,e))),o){case"settings":return a.q_.createElement(d.default,e);case"integrations":return a.q_.createElement(_.default,e);case"alerts":return a.q_.createElement(u.default,e);case"emails":return a.q_.createElement(m.default,e);case"logging":return a.q_.createElement(p.default,e);default:return null}};t.default=function(e){var t=e.data,n=e.i18n,r=e.common,l=(0,E.A)(t.route_path),c=(null==t?void 0:t.caps)||{},u=(0,h.default)(function(e){return e.experimentalFeatures});Object.entries(I).forEach(function(e){var t=(0,i.A)(e,2),n=t[0];t[1].some(function(e){return c[e]})||T.push(n)}),(0,y.A)("wp_email_management")||T.includes("emails")||T.push("emails"),u.alerts_management||T.includes("alerts")?T=T.filter(function(e){return"alerts"!==e}):T.push("alerts");var m=(0,h.default)(function(e){return e.pageLoaderActive}),d=(0,h.default)(function(e){return e.setPageLoaderActive}),_={confirmButtonType:(0,h.default)(function(e){return e.confirmDialogConfirmButtonType}),customAttributes:(0,h.default)(function(e){return e.confirmDialogCustomAttributes}),i18n:w(w({},(null==r?void 0:r.i18n)||{}),(0,h.default)(function(e){return e.confirmDialogI18n})),isOpen:(0,h.default)(function(e){return e.confirmDialogOpen}),onCancel:(0,h.default)(function(e){return e.confirmDialogOnCancel}),onClose:(0,h.default)(function(e){return e.confirmDialogOnClose}),onConfirm:(0,h.default)(function(e){return e.confirmDialogOnConfirm})},p=function(e){d(e.detail)};return S(function(){return document.addEventListener("gravitysmtp/page_loader/active",p),function(){return document.removeEventListener("gravitysmtp/page_loader/active",p)}},[]),a.q_.createElement(C,null,a.q_.createElement(o.n,{defaultSettings:{errorIconAttributes:{icon:"exclamation-simple",iconPrefix:"gravitysmtp-admin-icon"},successIconAttributes:{icon:"correct",iconPrefix:"gravitysmtp-admin-icon"}}},a.q_.createElement(x,{options:q},a.q_.createElement("div",{className:"gravitysmtp-app__wrapper"},a.q_.createElement(s.A,{customClasses:["gravitysmtp-settings-app"],Header:D,PrimarySideBarChildren:B,common:r,data:t,i18n:n,disabledNavItems:T},a.q_.createElement("div",{className:"gravitysmtp-settings-app__content"},a.q_.createElement(P,null,a.q_.createElement(k,{path:l,element:a.q_.createElement(N,{common:r,data:t,i18n:n,disabledNavItems:T})})))),a.q_.createElement(f.default,{data:t,common:r,i18n:n}),a.q_.createElement(g.A,_),a.q_.createElement(b.A,{loading:m})))))}},12040:function(e,t,n){var r=n(71860),i=n(90455),a=n(8140),s=n(88856),o=n(78564),l=n.n(o),c=n(27122),u=n.n(c),m=n(32352),d=n(40388),_=n(21713),p=n(30242),f=n(80509),g=n(5529),b=n(25787),v=n(66598),y=n(16265),A=n(13379),h=n(39940),E=n(60325),O=n(84860),w=n(33695),S=n(49572),C=n(93313),P=n(83707),k=n(27764),j=n(59092);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,s.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var T=m.q_.forwardRef,I=m.q_.useRef,D=m.q_.useState,B=m.q_.useEffect,N=T(function(e,t){var n=e.customAttributes,o=void 0===n?{}:n,c=e.customClasses,x=void 0===c?[]:c,T=e.common,N=void 0===T?{}:T,L=e.data,z=void 0===L?{}:L,R=e.i18n,W=void 0===R?{}:R,M=q({className:(0,m.pS)({"gravitysmtp-settings-app__alerts":!0,"gravitysmtp-alerts-settings":!0},x)},o),G=(null==W?void 0:W.alerts)||{},V=G.alerts_box_heading,F=G.alert_threshold_count_label,H=G.alert_threshold_count_help_text,J=G.alert_threshold_interval_label,U=G.alert_threshold_interval_help_text,K=G.begin_drag_notice,Y=G.drag_button_label,$=G.email_request_fails_help_text,Q=G.email_request_fails_label,X=G.end_drag_notice,Z=G.end_drop_notice,ee=G.move_item_notice,te=G.notify_heading,ne=G.save_settings_button_label,re=G.slack_alerts_help_text,ie=G.slack_alerts_label,ae=G.slack_heading,se=G.slack_webhook_add_button_label,oe=G.slack_webhook_delete_button_label,le=G.snackbar_test_alert_success,ce=G.snackbar_test_alert_error,ue=G.start_sending_test_alert,me=G.top_content,de=G.top_heading,_e=G.twilio_account_add_button_label,pe=G.twilio_alerts_block_heading,fe=G.twilio_alerts_help_text,ge=G.twilio_alerts_label,be=G.twilio_heading,ve=(null==z?void 0:z.alerts_settings)||{},ye=ve.alert_threshold_count,Ae=ve.alert_threshold_interval,he=ve.notify_when_email_sending_fails_enabled,Ee=ve.slack_alerts_enabled,Oe=ve.twilio_alerts_enabled,we=ve.slack_alerts,Se=void 0===we?{}:we,Ce=Se.fields,Pe=void 0===Ce?[]:Ce,ke=Se.items,je=void 0===ke?[]:ke,xe=Se.path,qe=void 0===xe?"":xe,Te=ve.twilio_alerts,Ie=void 0===Te?{}:Te,De=Ie.fields,Be=void 0===De?[]:De,Ne=Ie.items,Le=void 0===Ne?[]:Ne,ze=Ie.path,Re=void 0===ze?"":ze,We=(null==N?void 0:N.i18n)||{},Me=We.debug_messages,Ge=void 0===Me?{}:Me,Ve=Ge.saving_plugin_settings,Fe=void 0===Ve?"":Ve,He=Ge.saving_plugin_settings_error,Je=void 0===He?"":He,Ue=We.snackbar_generic_update_error,Ke=void 0===Ue?"":Ue,Ye=We.snackbar_generic_update_success,$e=void 0===Ye?"":Ye,Qe=(null==N?void 0:N.endpoints)||{},Xe=Qe.save_alerts_settings,Ze=void 0===Xe?{}:Xe,et=Ze.action,tt=void 0===et?"":et,nt=Ze.nonce,rt=void 0===nt?"":nt,it=Qe.send_test_alert,at=void 0===it?{}:it,st=at.action,ot=void 0===st?"":st,lt=at.nonce,ct=void 0===lt?"":lt,ut=D(he),mt=(0,a.A)(ut,2),dt=mt[0],_t=mt[1],pt=D(Ee),ft=(0,a.A)(pt,2),gt=ft[0],bt=ft[1],vt=D(Oe),yt=(0,a.A)(vt,2),At=yt[0],ht=yt[1],Et=D(ye),Ot=(0,a.A)(Et,2),wt=Ot[0],St=Ot[1],Ct=D(Ae),Pt=(0,a.A)(Ct,2),kt=Pt[0],jt=Pt[1],xt=D(""),qt=(0,a.A)(xt,2),Tt=qt[0],It=qt[1],Dt=D(!1),Bt=(0,a.A)(Dt,2),Nt=Bt[0],Lt=Bt[1],zt=(0,j.default)(function(e){return e.setSettingsNavBlocked}),Rt=(0,E.A)(qe,!0),Wt=Rt.items,Mt=Rt.handleChange,Gt=Rt.onChange,Vt=(0,E.A)(Re,!0,"twilio_account_name","block",pe),Ft=Vt.items,Ht=Vt.handleChange,Jt=Vt.onChange,Ut={deleteLabel:oe,dragLabel:Y,beginDrag:K,endDrag:X,endDrop:Z,moveItem:ee},Kt=I(null),Yt=I(JSON.stringify(z.alerts_settings)),$t=(0,O.dh)();B(function(){JSON.stringify(z.alerts_settings)!==Yt.current?zt(!0):zt(!1)});var Qt=function(e,t){z&&z.alerts_settings&&(z.alerts_settings[e]=t)},Xt=function(){var e=(0,i.A)(l().mark(function e(t,n){var r,i,a,s;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={slack:Wt[n],twilio:Ft[n]},i={action:ot,security:ct,data:{type:t,settings:r[t]||{}}},e.next=5,(0,P.A)((0,_.nv)(ue,JSON.stringify((0,C.A)(["security"],i))),"info");case 5:return e.prev=5,e.next=8,(0,d.bE)({endpoint:u(),body:i});case 8:null!=(s=e.sent)&&null!==(a=s.data)&&void 0!==a&&a.success?$t(le):(console.error(null==s?void 0:s.error),$t(ce,"error")),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),console.error(e.t0),e.next=17,(0,P.A)((0,_.nv)(ce,JSON.stringify(e.t0)),"error");case 17:case"end":return e.stop()}},e,null,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}(),Zt=function(e,t,n,i,a,s){return function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(n){return"Button"===n.component?q(q({},n),{},{props:q(q({},n.props),{},{onClick:function(){return Xt(s,t)}})}):q(q({},n),{},{props:q(q({},n.props),{},{id:e[t].repeater_item_id,onChange:a(n.props.name,t),value:e[t][n.props.name]})})})}(n,i).map(function(e,t){return"Button"===e.component?m.q_.createElement(f.A,(0,r.A)({key:"".concat(s,"-repeater-input-test-").concat(t)},e.props)):m.q_.createElement(b.A,(0,r.A)({key:"".concat(s,"-repeater-input-").concat(e.props.id,"-").concat(e.props.name),disabled:!(0,S.A)("CAPS_EDIT_ALERTS")},e.props))})},en=(0,S.A)("CAPS_EDIT_ALERTS")?{}:{disabled:!0},tn=function(){var e=(0,i.A)(l().mark(function e(){var t,n,r,i;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Kt.current.offsetWidth,It(t),Lt(!0),n={action:tt,security:rt,alerts_settings:(0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)({},(0,w.A)("alert_threshold_count"),wt),(0,w.A)("alert_threshold_interval"),kt),(0,w.A)("notify_when_email_sending_fails_enabled"),dt),(0,w.A)("slack_alerts_enabled"),gt),(0,w.A)("twilio_alerts_enabled"),At),(0,w.A)("slack_alerts"),Wt),(0,w.A)("twilio_alerts"),Ft)},e.next=6,(0,P.A)((0,_.nv)(Fe,JSON.stringify((0,C.A)(["security"],n))),"info");case 6:return e.prev=6,e.next=9,(0,d.bE)({endpoint:u(),body:n});case 9:i=e.sent,Lt(!1),It(""),null!=i&&null!==(r=i.data)&&void 0!==r&&r.success?($t($e),zt(!1),Yt.current=JSON.stringify(z.alerts_settings)):(console.error(null==i?void 0:i.error),$t(Ke,"error")),e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(6),console.error(e.t0),e.next=20,(0,P.A)((0,_.nv)(Je,JSON.stringify(e.t0)),"error");case 20:case"end":return e.stop()}},e,null,[[6,15]])}));return function(){return e.apply(this,arguments)}}(),nn=function(e,t){t.target.name===(0,w.A)("alert_threshold_count")?(St(e),Qt((0,w.A)("alert_threshold_count"),e)):(jt(e),Qt((0,w.A)("alert_threshold_interval"),e))},rn={controlled:!0,customAttributes:{min:1,"data-test-id":"alerts-settings-count"},customClasses:["gravitysmtp-alerts-settings__count"],disabled:!(0,S.A)("CAPS_EDIT_ALERTS"),helpTextAttributes:{content:H,size:"text-xs",weight:"regular"},labelAttributes:q({label:F},(0,k.A)((0,w.A)("alert_threshold_count"))),name:(0,w.A)("alert_threshold_count"),onChange:nn,spacing:4,type:"number",value:String(wt)},an={controlled:!0,customAttributes:{min:1,"data-test-id":"alerts-settings-interval"},customClasses:["gravitysmtp-alerts-settings__interval"],disabled:!(0,S.A)("CAPS_EDIT_ALERTS"),helpTextAttributes:{content:U,size:"text-xs",weight:"regular"},labelAttributes:q({label:J},(0,k.A)((0,w.A)("alert_threshold_interval"))),name:(0,w.A)("alert_threshold_interval"),onChange:nn,spacing:4,type:"number",value:String(kt)};return m.q_.createElement("div",(0,r.A)({},M,{ref:t}),m.q_.createElement(g.A,{size:"display-sm",weight:"semibold",spacing:1,content:de}),m.q_.createElement(p.A,{x:1100},m.q_.createElement(v.A,{size:"text-sm",spacing:6,color:"comet",content:me})),m.q_.createElement(A.A,{HeaderContent:function(e){return m.q_.createElement(p.A,{x:630},m.q_.createElement(g.A,(0,r.A)({content:V,tagName:"h2",size:"text-lg",weight:"medium"},e)))},FooterContent:function(e){var t={"data-test-id":"alerts-settings-save"};Tt&&(t.style={width:"".concat(Tt,"px")});var n=(0,m.pS)({"gravitysmtp-alerts-settings__save-settings":!0,"gravitysmtp-alerts-settings__save-settings--saving":Nt});return m.q_.createElement(f.A,(0,r.A)({active:Nt,activeType:"loader",customAttributes:t,customClasses:n,disabled:!(0,S.A)("CAPS_EDIT_ALERTS")||Nt,icon:"save-disk",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:ne,onClick:tn,size:"size-height-m",ref:Kt},e))}},m.q_.createElement(p.A,{customClasses:["gravitysmtp-alerts-settings__box-container"],x:630},m.q_.createElement(g.A,{size:"text-sm",weight:"medium",type:"boxed",spacing:4,content:te}),m.q_.createElement(y.A,{customAttributes:{"data-test-id":"settings-alerts-email-request-fails"},helpTextAttributes:{content:$,size:"text-sm"},initialChecked:dt,labelAttributes:{label:Q},onChange:function(e){_t(e),Qt((0,w.A)("notify_when_email_sending_fails_enabled"),e)},labelPosition:"left",name:(0,w.A)("notify_when_email_sending_fails_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,S.A)("CAPS_EDIT_ALERTS")}),dt&&((0,S.A)("CAPS_VIEW_ALERTS_SLACK_SETTINGS")||(0,S.A)("CAPS_VIEW_ALERTS_TWILIO_SETTINGS"))&&m.q_.createElement(m.q_.Fragment,null,m.q_.createElement(b.A,rn),m.q_.createElement(b.A,an),m.q_.createElement(g.A,{size:"text-sm",weight:"medium",type:"boxed",spacing:4,content:ae}),m.q_.createElement(y.A,{customAttributes:{"data-test-id":"settings-alerts-slack-alerts"},helpTextAttributes:{content:re,size:"text-sm"},initialChecked:gt,labelAttributes:{label:ie},onChange:function(e){bt(e),Qt((0,w.A)("slack_alerts_enabled"),e)},labelPosition:"left",name:(0,w.A)("slack_alerts_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,S.A)("CAPS_EDIT_ALERTS")}),gt&&(0,S.A)("CAPS_VIEW_ALERTS_SLACK_SETTINGS")&&m.q_.createElement(h.A,{addButtonAttributes:q({label:se},en),collapsibleButtonAttributes:q({iconPrefix:"gravitysmtp-admin-icon"},en),customClasses:["gravitysmtp-alerts-settings__slack-webhooks"],dragHandleAttributes:{iconPrefix:"gravitysmtp-admin-icon"},deleteButtonAttributes:q({iconPrefix:"gravitysmtp-admin-icon"},en),downButtonAttributes:q({iconPrefix:"gravitysmtp-admin-icon"},en),fillContent:!0,id:"repeater-slack-alerts",i18n:Ut,isDraggable:!0,isSortable:!0,items:Wt,minItems:1,newItemState:{slack_webhook_url:""},onChange:Mt,renderItem:function(e,t){return Zt(0,t,Pe,je,Gt,"slack")},showArrows:!1,showDelete:!0,showDragHandle:!0,spacing:6,upButtonAttributes:q({iconPrefix:"gravitysmtp-admin-icon"},en)}),m.q_.createElement(g.A,{size:"text-sm",weight:"medium",type:"boxed",spacing:4,content:be}),m.q_.createElement(y.A,{customAttributes:{"data-test-id":"settings-alerts-slack-alerts"},helpTextAttributes:{content:fe,size:"text-sm"},initialChecked:At,labelAttributes:{label:ge},onChange:function(e){ht(e),Qt((0,w.A)("twilio_alerts_enabled"),e)},labelPosition:"left",name:(0,w.A)("twilio_alerts_enabled"),spacing:At?6:0,size:"size-m",width:"full",disabled:!(0,S.A)("CAPS_EDIT_ALERTS")}),At&&(0,S.A)("CAPS_VIEW_ALERTS_TWILIO_SETTINGS")&&m.q_.createElement(h.A,{addButtonAttributes:q({label:_e},en),collapsible:!0,collapsibleButtonAttributes:q({iconPrefix:"gravitysmtp-admin-icon"},en),customClasses:["gravitysmtp-alerts-settings__twilio-accounts"],dragHandleAttributes:{iconPrefix:"gravitysmtp-admin-icon"},deleteButtonAttributes:q({iconPrefix:"gravitysmtp-admin-icon"},en),downButtonAttributes:q({iconPrefix:"gravitysmtp-admin-icon"},en),id:"twilio-alerts",i18n:Ut,items:Ft,isDraggable:!0,isSortable:!0,minItems:1,newItemState:{twilio_account_name:"",twilio_account_id:"",twilio_auth_token:"",twilio_from_phone_number:"",twilio_to_phone_number:"",repeater_item_block_content_title:pe.replace("%s",""),repeater_item_collapsed:!1},onChange:Ht,renderItem:function(e,t){return Zt(0,t,Be,Le,Jt,"twilio")},showArrows:!0,showDelete:!0,showDragHandle:!0,type:"block",upButtonAttributes:q({iconPrefix:"gravitysmtp-admin-icon"},en)})))))});N.propTypes={customAttributes:m.By.object,customClasses:m.By.oneOfType([m.By.string,m.By.array,m.By.object])},N.displayName="AlertsScreen",t.default=N},12526:function(e,t,n){var r=n(71860),i=n(88856),a=n(32352),s=n(21713),o=n(30242),l=n(5529),c=n(66598),u=n(16265),m=n(13379),d=n(84860),_=n(49572),p=n(27764),f=n(68381);function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A=(0,a.q_.forwardRef)(function(e,t){var n=e.customAttributes,i=void 0===n?{}:n,b=e.customClasses,v=void 0===b?[]:b,A=e.data,h=void 0===A?{}:A,E=e.i18n,O=void 0===E?{}:E,w=y({className:(0,a.pS)({"gravitysmtp-settings-app__emails":!0},v)},i),S=h.managed_email_types,C=void 0===S?[]:S,P=(null==O?void 0:O.emails)||{},k=P.top_heading,j=P.top_content,x=P.email_notifications_box_heading,q=(0,d.dh)();return a.q_.createElement("div",(0,r.A)({},w,{ref:t}),a.q_.createElement(l.A,{size:"display-sm",weight:"semibold",spacing:1,content:k}),a.q_.createElement(c.A,{size:"text-sm",spacing:6,color:"comet",content:j}),a.q_.createElement(m.A,{HeaderContent:function(e){return a.q_.createElement(l.A,(0,r.A)({content:x,size:"text-lg",weight:"medium"},e))}},C.map(function(e,t){return a.q_.createElement(o.A,{key:"".concat((0,s.Yv)(e.category),"-").concat(t),x:630},a.q_.createElement(l.A,{size:"text-sm",weight:"medium",type:"boxed",spacing:4,content:e.category}),e.items.map(function(n,r){var i=4;return r===e.items.length-1&&(i=t===C.length-1?1:6),a.q_.createElement(u.A,{key:"".concat(n.key,"-").concat(r),id:"toggle-".concat(n.key),customAttributes:{"data-test-id":n.key},disabled:!(0,_.A)("CAPS_EDIT_EMAIL_MANAGEMENT_SETTINGS"),initialChecked:n.value,labelAttributes:y({label:n.label},(0,p.A)(n.key)),helpTextAttributes:{content:n.description,spacing:[3,0,0,0]},helpTextWidth:"full",labelPosition:"left",name:n.key,onChange:function(e){(0,f.A)({addSnackbarMessage:q,key:n.key,successCallback:function(){!function(e,t,n){var r,i=g(n);try{for(i.s();!(r=i.n()).done;){var a,s=g(r.value.items);try{for(s.s();!(a=s.n()).done;){var o=a.value;if(o.key===e)return o.value=t,n}}catch(e){s.e(e)}finally{s.f()}}}catch(e){i.e(e)}finally{i.f()}}(n.key,e,C)},value:e})},spacing:i,size:"size-m",width:"full"})}))})))});A.propTypes={customAttributes:a.By.object,customClasses:a.By.oneOfType([a.By.string,a.By.array,a.By.object]),data:a.By.object,i18n:a.By.object},A.displayName="EmailsScreen",t.default=A},24316:function(e,t,n){n.d(t,{$:function(){return i.A},Q:function(){return r.A}});var r=n(52320),i=n(70531)},31945:function(e,t){t.A=function(e){var t=window.location.origin,n="//".concat(window.location.host);return e.replace(t,"").replace(n,"")}},52166:function(e,t,n){var r=n(71860),i=n(88856),a=n(90455),s=n(78564),o=n.n(s),l=n(32352),c=n(8412),u=n(59092);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=l.q_.forwardRef,p=l.q_.useEffect,f=l.tm.useLocation,g=l.tm.useNavigate,b=_(function(e,t){var n=e.customAttributes,i=void 0===n?{}:n,s=e.customClasses,m=void 0===s?[]:s,_=e.data,b=void 0===_?{}:_,v=e.disabledNavItems,y=void 0===v?[]:v,A=e.i18n,h=void 0===A?{}:A,E=b.nav_items,O=void 0===E?[]:E,w=f(),S=g(),C=(0,u.default)(function(e){return e.settingsNavBlocked}),P=(0,u.default)(function(e){return e.setSettingsNavBlocked}),k=(0,u.default)(function(e){return e.setConfirmDialogSettings}),j=(0,u.default)(function(e){return e.setConfirmDialogOpen}),x=h||{},q=x.unsaved_changes_title,T=void 0===q?"":q,I=x.unsaved_changes_message,D=void 0===I?"":I;p(function(){var e=function(e){C&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}},[C]);var B=O.filter(function(e){return!y.includes(e.param)}).map(function(e,t){var n=e.param,r=e.label,i=e.icon,a={item:{customClasses:["gravitysmtp-settings-app__nav-bar-item","gravitysmtp-settings-app__nav-bar-item--".concat(n)],key:"".concat(n,"-").concat(t)},icon:{customClasses:["gravitysmtp-settings-app__nav-bar-item-icon"],icon:i,iconPrefix:"gravitysmtp-admin-icon"},text:{content:r,customClasses:["gravitysmtp-settings-app__nav-bar-item-text"]}};if(y.includes(n))return d(d({},a),{},{item:d(d({},a.item),{},{active:!1,disabled:!0}),button:{customClasses:["gravitysmtp-settings-app__nav-bar-item-button","gravitysmtp-settings-app__nav-bar-item-button--".concat(n)],size:"size-height-m",type:"icon-white",disabled:!0}});var s=new URLSearchParams(w.search),o=b.nav_item_param_key||"tab",l=s.get(o);s.set(o,n);var c=d(d({},w),{},{search:"?".concat(s.toString())});return d(d({},a),{},{item:d(d({},a.item),{},{active:l===n}),link:{customClasses:["gravitysmtp-settings-app__nav-bar-item-link","gravitysmtp-settings-app__nav-bar-item-link--".concat(n)],to:c}})}),N=d({customClasses:(0,l.pS)(["gravitysmtp-settings-app__nav-bar"],m),handleNavigationBlocked:function(e){var t;k({confirmDialogI18n:{confirm_change_content:D,confirm_change_heading:T},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return j(!1)},confirmDialogOnClose:function(){return j(!1)},confirmDialogOnConfirm:(t=(0,a.A)(o().mark(function t(){var n,r;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:P(!1),j(!1),n=new URL(e),r=n.pathname+n.search,S(r);case 5:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)})})},items:B,type:"icon-button",navigationBlocked:C},i);return l.q_.createElement(c.A,(0,r.A)({},N,{ref:t}))});b.propTypes={children:l.By.oneOfType([l.By.arrayOf(l.By.node),l.By.node]),customAttributes:l.By.object,customClasses:l.By.oneOfType([l.By.string,l.By.array,l.By.object])},b.displayName="NavBar",t.default=b},56985:function(e,t,n){var r=n(71860),i=n(88856),a=n(32352),s=n(24316),o=n(30242),l=n(43632),c=n(59092);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var m=(0,a.q_.forwardRef)(function(e,t){var n=e.customAttributes,m=void 0===n?{}:n,d=e.customClasses,_=void 0===d?[]:d,p=e.common,f=void 0===p?{}:p,g=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({className:(0,a.pS)({"gravitysmtp-settings-app__header":!0},_)},m),b=f.i18n,v=void 0===b?{}:b,y=v.debug_log_enabled,A=void 0===y?"":y,h=v.test_mode_enabled,E=void 0===h?"":h,O=(0,c.default)(function(e){return e.debugLogEnabled}),w=(0,c.default)(function(e){return e.testModeEnabled});return a.q_.createElement("div",(0,r.A)({},g,{ref:t}),a.q_.createElement("div",{className:"gravitysmtp-settings-app__header-logo"},a.q_.createElement(s.Q,null)),a.q_.createElement("div",{className:"gravitysmtp-settings-app__header-main"},a.q_.createElement(s.$,null),a.q_.createElement(o.A,{customClasses:["gravitysmtp-header__status"],setDisplay:!1},O&&a.q_.createElement(l.A,{status:"warning",size:"sm",spacing:[0,w?4:0,0,0],label:A,isStatic:!0}),w&&a.q_.createElement(l.A,{status:"blue",size:"sm",label:E,isStatic:!0}))))});m.propTypes={customAttributes:a.By.object,customClasses:a.By.oneOfType([a.By.string,a.By.array,a.By.object])},m.displayName="SettingsHeader",t.default=m}}]);